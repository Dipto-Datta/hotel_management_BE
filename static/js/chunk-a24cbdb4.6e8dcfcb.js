(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a24cbdb4"],{"92c0":function(e,t,o){"use strict";o("ec0c")},a7a5:function(e,t,o){"use strict";o.r(t);var a=o("7a23");const l={style:{height:"100vh"}},c={id:"pdfportion"},i={style:{"font-family":"'Acme', 'Lobster', 'Open Sans', sans-serif","font-size":"30px","font-style":"italic","text-align":"center","justify-content":"center","padding-top":"10px","vertical-align":"bottom"}},n=["src"],s={style:{"vertical-align":"bottom","margin-top":"-2vh"}},r=Object(a["createElementVNode"])("div",{style:{display:"flex","justify-content":"center"}},[Object(a["createElementVNode"])("div",null,[Object(a["createElementVNode"])("strong")])],-1),d={style:{display:"flex","justify-content":"center"}},m={style:{display:"flex","justify-content":"center"}},b={class:"columns"},p={class:"column is-12"},h={style:{float:"left","margin-left":"10px","font-size":"18px"}},u={style:{"font-weight":"700"}},g={style:{float:"right","margin-right":"10px","font-size":"18px"}},y={style:{"font-weight":"700"}},O={class:"columns"},j={class:"column is-12",style:{"border-top":"1px solid #DBDBDB","border-bottom":"1px solid #DBDBDB"}},f={style:{"justify-content":"left",float:"left","margin-left":"10px","font-size":"18px","font-weight":"600"}},D={style:{}},v={style:{"justify-content":"left",float:"right","margin-right":"10px","font-size":"18px","font-weight":"600"}},_={class:"table is-fullwidth"},E=Object(a["createElementVNode"])("thead",null,[Object(a["createElementVNode"])("tr",null,[Object(a["createElementVNode"])("th",null,"Item"),Object(a["createElementVNode"])("th",null,"Date"),Object(a["createElementVNode"])("th",null,"Qnty"),Object(a["createElementVNode"])("th",null,"Cost"),Object(a["createElementVNode"])("th",null,"Discount/ S. Discount"),Object(a["createElementVNode"])("th",null,"Final Trans")])],-1),V={style:{"font-size":"15px"}},N={key:0},x={key:1},k={key:2},S={key:3},C={key:4},B={key:5},I={key:6},w={key:7},T={key:8},z={key:9},A={key:10},R={key:11},F=Object(a["createElementVNode"])("hr",{style:{"margin-top":"-20px"}},null,-1),P={style:{"text-align":"right","font-size":"18px","margin-right":"10px"}},M={style:{"text-align":"right","font-size":"18px","margin-right":"10px"}},$={style:{"text-align":"right","font-size":"18px","margin-right":"10px"}},q={key:0,style:{"text-align":"right","font-size":"18px","margin-right":"10px"}},U={key:1,style:{"text-align":"right","font-size":"18px","margin-right":"10px"}},L={style:{"text-align":"right","font-size":"18px","margin-right":"10px"}},H=Object(a["createElementVNode"])("hr",null,null,-1),G={style:{"text-align":"right","margin-right":"10px","margin-top":"-20px","font-size":"18px"}},J=Object(a["createElementVNode"])("br",null,null,-1),Q={style:{"text-align":"right","margin-right":"10px","margin-top":"-20px","font-size":"18px"}},Z=Object(a["createElementVNode"])("hr",null,null,-1),K={style:{"text-align":"right","margin-right":"10px","margin-top":"-20px","font-size":"18px"}},W=Object(a["createElementVNode"])("hr",null,null,-1),X=Object(a["createElementVNode"])("p",{style:{"text-align":"right","margin-right":"10px","margin-top":"-20px","font-weight":"bold","font-size":"18px",color:"red"}},"PAID",-1),Y={class:"columns",style:{}},ee={class:"column is-12"},te={class:"box",style:{"font-size":"22px","font-weight":"bold",height:"60px",width:"100%"}},oe=Object(a["createElementVNode"])("p",{style:{float:"left","margin-top":"-5px"}},"Checkout",-1),ae={key:0},le={class:"button",style:{float:"right","margin-top":"-10px"}},ce=Object(a["createTextVNode"])("Back"),ie={key:1},ne={class:"button",style:{float:"right","margin-top":"-10px"}},se=Object(a["createTextVNode"])("Back"),re={class:"columns"},de={class:"column is-6"},me={class:"box",style:{height:"87vh","margin-left":"10px","margin-right":"-5px","overflow-y":"auto"}},be={class:"table is-fullwidth"},pe=Object(a["createElementVNode"])("thead",null,[Object(a["createElementVNode"])("tr",null,[Object(a["createElementVNode"])("th",null,"Item"),Object(a["createElementVNode"])("th",null,"Date"),Object(a["createElementVNode"])("th",null,"Qnty"),Object(a["createElementVNode"])("th",null,"Cost"),Object(a["createElementVNode"])("th",null,"Discount/ S. Discount"),Object(a["createElementVNode"])("th",null,"Final Trans")])],-1),he={style:{"font-size":"15px"}},ue={key:0},ge={key:1},ye={key:2},Oe={key:3},je={key:4},fe={key:5},De={key:6},ve={key:7},_e={key:8},Ee={key:9},Ve={key:10},Ne={key:11},xe=Object(a["createElementVNode"])("hr",{style:{"margin-top":"-20px"}},null,-1),ke={style:{"text-align":"right","font-size":"18px","margin-right":"10px"}},Se={style:{"text-align":"right","font-size":"18px","margin-right":"10px"}},Ce={style:{"text-align":"right","font-size":"18px","margin-right":"10px"}},Be={key:0,style:{"text-align":"right","font-size":"18px","margin-right":"10px"}},Ie={key:1,style:{"text-align":"right","font-size":"18px","margin-right":"10px"}},we={style:{"text-align":"right","font-size":"18px","margin-right":"10px"}},Te=Object(a["createElementVNode"])("hr",null,null,-1),ze={style:{"text-align":"right","margin-right":"10px","margin-top":"-20px","font-size":"18px"}},Ae=Object(a["createElementVNode"])("br",null,null,-1),Re={style:{"text-align":"right","margin-right":"10px","margin-top":"-20px","font-size":"18px"}},Fe=Object(a["createElementVNode"])("hr",null,null,-1),Pe={style:{"text-align":"right","margin-right":"10px","margin-top":"-20px","font-size":"18px"}},Me=Object(a["createElementVNode"])("hr",null,null,-1),$e=Object(a["createElementVNode"])("p",{style:{"text-align":"right","margin-right":"10px","margin-top":"-20px","font-weight":"bold","font-size":"18px",color:"red"}},"PAID",-1),qe=Object(a["createElementVNode"])("hr",null,null,-1),Ue={class:"column is-6"},Le={class:"box",style:{height:"8vh","margin-right":"10px","margin-left":"-5px"}},He={style:{}},Ge={style:{float:"left","font-size":"17px"}},Je=Object(a["createElementVNode"])("span",{style:{"font-size":"14px"}},"BDT",-1),Qe=Object(a["createElementVNode"])("span",{style:{"font-size":"14px"}},"BDT",-1),Ze=Object(a["createElementVNode"])("div",{style:{float:"right"}},[Object(a["createElementVNode"])("button",{class:"button",style:{"margin-top":"-1.2vh",width:"10px",color:"#099DD9","background-color":"white"}},[Object(a["createElementVNode"])("i",{class:"fa-brands fa-flickr"})])],-1),Ke=Object(a["createElementVNode"])("div",{style:{float:"right","font-size":"17px","margin-right":"10px"}},[Object(a["createElementVNode"])("p",null,[Object(a["createTextVNode"])("Room Clearence: "),Object(a["createElementVNode"])("span",null,"N.C")])],-1),We={class:"box",style:{height:"76vh","margin-right":"10px","margin-left":"-5px"}},Xe=Object(a["createElementVNode"])("p",{style:{"font-weight":"700","font-size":"20px"}},"Settlement",-1),Ye={class:"columns"},et={class:"column is-6"},tt=Object(a["createElementVNode"])("p",{style:{"text-align":"left"}},"Special/Countertop Discount",-1),ot={class:"column is-6"},at=Object(a["createElementVNode"])("p",{style:{"text-align":"left"}},"Remarks for special discount",-1),lt={class:"tabs is-centered is-medium"},ct={class:"tab-contents"},it={class:"field is-horizontal"},nt=Object(a["createElementVNode"])("div",{class:"field-label is-normal"},[Object(a["createElementVNode"])("label",{class:"label",style:{"font-size":"18px",width:"145px"}},"Amount:")],-1),st={class:"field-body"},rt={class:"field"},dt={class:"control"},mt={class:"tab-contents"},bt={class:"field is-horizontal"},pt=Object(a["createElementVNode"])("div",{class:"field-label is-normal"},[Object(a["createElementVNode"])("label",{class:"label",style:{"font-size":"18px",width:"145px"}},"Amount:")],-1),ht={class:"field-body"},ut={class:"field"},gt={class:"control"},yt={class:"field is-horizontal"},Ot=Object(a["createElementVNode"])("div",{class:"field-label is-normal"},[Object(a["createElementVNode"])("label",{class:"label",style:{"font-size":"18px",width:"145px"}},"Card no:")],-1),jt={class:"field-body"},ft={class:"field"},Dt={class:"control"},vt={class:"field is-horizontal"},_t=Object(a["createElementVNode"])("div",{class:"field-label is-normal"},[Object(a["createElementVNode"])("label",{class:"label",style:{"font-size":"18px",width:"145px"}},"Date of expiry:")],-1),Et={class:"field-body"},Vt={class:"field"},Nt={class:"control"},xt={class:"tab-contents"},kt={class:"field is-horizontal"},St=Object(a["createElementVNode"])("div",{class:"field-label is-normal"},[Object(a["createElementVNode"])("label",{class:"label",style:{"font-size":"18px",width:"145px"}},"Amount:")],-1),Ct={class:"field-body"},Bt={class:"field"},It={class:"control"},wt={class:"field is-horizontal"},Tt=Object(a["createElementVNode"])("div",{class:"field-label is-normal"},[Object(a["createElementVNode"])("label",{class:"label",style:{"font-size":"18px",width:"145px"}},"Transaction id:")],-1),zt={class:"field-body"},At={class:"field"},Rt={class:"control"};function Ft(e,t,o,Ft,Pt,Mt){const $t=Object(a["resolveComponent"])("router-link");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",l,[Object(a["withDirectives"])(Object(a["createElementVNode"])("div",null,[Object(a["createElementVNode"])("div",c,[Object(a["createElementVNode"])("div",i,[Object(a["createElementVNode"])("div",null,[Object(a["createElementVNode"])("img",{src:Pt.logo,style:{"max-width":"50px",left:"0"}},null,8,n)]),Object(a["createElementVNode"])("div",s,Object(a["toDisplayString"])(Pt.company.company_name),1)]),r,Object(a["createElementVNode"])("div",d,[Object(a["createElementVNode"])("div",null,Object(a["toDisplayString"])(Pt.company.company_address),1)]),Object(a["createElementVNode"])("div",m," Hotline: "+Object(a["toDisplayString"])(Pt.company.contact_person_phone),1),Object(a["createElementVNode"])("div",b,[Object(a["createElementVNode"])("div",p,[Object(a["createElementVNode"])("div",h,[Object(a["createElementVNode"])("p",u,"Date: "+Object(a["toDisplayString"])(Pt.calcDate),1)]),Object(a["createElementVNode"])("div",g,[Object(a["createElementVNode"])("p",y,"Time: "+Object(a["toDisplayString"])(Pt.calcTime),1)])])]),Object(a["createElementVNode"])("div",O,[Object(a["createElementVNode"])("div",j,[Object(a["createElementVNode"])("div",f,[Object(a["createElementVNode"])("p",D,"Name: "+Object(a["toDisplayString"])(Pt.custInfo.gender)+" "+Object(a["toDisplayString"])(Pt.custInfo.first_name)+" "+Object(a["toDisplayString"])(Pt.custInfo.last_name),1),Object(a["createElementVNode"])("p",null,"Phone: "+Object(a["toDisplayString"])(Pt.custInfo.phone),1)]),Object(a["createElementVNode"])("div",v,[Object(a["createElementVNode"])("p",null,"Card No: "+Object(a["toDisplayString"])(Pt.cardData.card_no),1)])])]),Object(a["createElementVNode"])("table",_,[E,Object(a["createElementVNode"])("tbody",V,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(Pt.billData,e=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("tr",{key:e.id},["Room Clearance"==e.bill_item?(Object(a["openBlock"])(),Object(a["createElementBlock"])("td",N,"Payment ("+Object(a["toDisplayString"])(e.trx_type)+")",1)):(Object(a["openBlock"])(),Object(a["createElementBlock"])("td",x,Object(a["toDisplayString"])(e.bill_item),1)),Object(a["createElementVNode"])("td",null,Object(a["toDisplayString"])(e.date),1),"debit"==e.bill_category?(Object(a["openBlock"])(),Object(a["createElementBlock"])("td",k,Object(a["toDisplayString"])(e.item_quantity),1)):(Object(a["openBlock"])(),Object(a["createElementBlock"])("td",S,"N.A")),"debit"==e.bill_category&&"room"==e.type_bill?(Object(a["openBlock"])(),Object(a["createElementBlock"])("td",C,Object(a["toDisplayString"])((e.cost/e.item_quantity).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),1)):"debit"==e.bill_category&&"laundry"==e.type_bill?(Object(a["openBlock"])(),Object(a["createElementBlock"])("td",B,Object(a["toDisplayString"])(e.cost.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),1)):"debit"==e.bill_category&&"room_service"==e.type_bill?(Object(a["openBlock"])(),Object(a["createElementBlock"])("td",I,Object(a["toDisplayString"])(e.cost.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),1)):(Object(a["openBlock"])(),Object(a["createElementBlock"])("td",w,Object(a["toDisplayString"])(e.cost.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),1)),"debit"==e.bill_category?(Object(a["openBlock"])(),Object(a["createElementBlock"])("td",T,Object(a["toDisplayString"])(e.discount.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))+" (0%)",1)):(Object(a["openBlock"])(),Object(a["createElementBlock"])("td",z,Object(a["toDisplayString"])(e.special_discount.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),1)),"debit"==e.bill_category?(Object(a["openBlock"])(),Object(a["createElementBlock"])("td",A,Object(a["toDisplayString"])((e.cost/e.item_quantity*e.item_quantity).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),1)):(Object(a["openBlock"])(),Object(a["createElementBlock"])("td",R,"(-)"+Object(a["toDisplayString"])(e.cost.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),1))]))),128))])]),F,Object(a["createElementVNode"])("div",P,"Sub Total: "+Object(a["toDisplayString"])((parseInt(Pt.roomCost)+Pt.laundryCalculated+Pt.roomServiceCalculated).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))+" BDT",1),Object(a["createElementVNode"])("div",M,"VAT("+Object(a["toDisplayString"])(Pt.companyInfo.tax)+"%): "+Object(a["toDisplayString"])((Pt.roomCost*(Pt.companyInfo.tax/100)).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))+" BDT",1),Object(a["createElementVNode"])("div",$,"Service Charge("+Object(a["toDisplayString"])(Pt.companyInfo.service_charge)+"%): "+Object(a["toDisplayString"])((Pt.roomCost*(Pt.companyInfo.service_charge/100)).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))+" BDT",1),0!=Pt.laundryVatAmount||0!=Pt.laundryServiceCharge?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",q,"Laundry VAT & SD("+Object(a["toDisplayString"])(Pt.laundryVatAmount)+"% | "+Object(a["toDisplayString"])(Pt.laundryServiceCharge)+"%): "+Object(a["toDisplayString"])(Pt.laundryCalculatedDuty.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))+" BDT",1)):Object(a["createCommentVNode"])("",!0),0!=Pt.roomServiceVat||0!=Pt.roomServiceServiceCharge?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",U,"RoomService VAT & SD("+Object(a["toDisplayString"])(Pt.roomServiceVat)+"%|"+Object(a["toDisplayString"])(Pt.roomServiceServiceCharge)+"%): "+Object(a["toDisplayString"])(Pt.roomServiceCalculatedDuty.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))+" BDT",1)):Object(a["createCommentVNode"])("",!0),Object(a["createElementVNode"])("div",L,"Discount(s):(-) "+Object(a["toDisplayString"])(Pt.resInfo.previous_discounts.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))+" BDT",1),H,Object(a["createElementVNode"])("p",G,"Grand Total: "+Object(a["toDisplayString"])((Pt.laundryCalculated+Pt.roomServiceCalculated+Pt.laundryCalculatedDuty+Pt.roomServiceCalculatedDuty+Pt.roomCost+Pt.roomCost*(Pt.companyInfo.tax/100)+Pt.roomCost*(Pt.companyInfo.service_charge/100)-Pt.resInfo.previous_discounts).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))+" BDT",1),J,Object(a["createElementVNode"])("p",Q,"Advance & Payment(s): (-) "+Object(a["toDisplayString"])((Pt.advanceCalculated+Pt.roomClearanceCalculated).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))+" BDT",1),0!=Pt.resInfo.total_due?(Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],{key:2},[Z,Object(a["createElementVNode"])("p",K," Total Due(s): "+Object(a["toDisplayString"])((Pt.laundryCalculated+Pt.roomServiceCalculated+Pt.laundryCalculatedDuty+Pt.roomServiceCalculatedDuty+Pt.roomCost+Pt.roomCost*(Pt.companyInfo.tax/100)+Pt.roomCost*(Pt.companyInfo.service_charge/100)-Pt.resInfo.previous_discounts-Pt.advanceCalculated-Pt.roomClearanceCalculated).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))+" BDT",1)],64)):(Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],{key:3},[W,X],64))])],512),[[a["vShow"],1==Pt.showPdf]]),Object(a["createElementVNode"])("div",Y,[Object(a["createElementVNode"])("div",ee,[Object(a["createElementVNode"])("div",te,[oe,Object(a["createElementVNode"])("button",{class:"button",style:{float:"right","background-color":"#099DD9",color:"white","margin-top":"-10px","margin-left":"5px"},onClick:t[0]||(t[0]=Object(a["withModifiers"])(e=>Mt.submitCheckOut(),["prevent"]))},"Submit"),""==o.fromId||null==o.fromId?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",ae,[Object(a["createElementVNode"])("button",le,[Object(a["createVNode"])($t,{to:{name:"ReservationEdit",params:{id:Pt.resInfo.id}},style:{color:"black"}},{default:Object(a["withCtx"])(()=>[ce]),_:1},8,["to"])])])):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",ie,[Object(a["createElementVNode"])("button",ne,[Object(a["createVNode"])($t,{to:{name:"Home"},style:{color:"black"}},{default:Object(a["withCtx"])(()=>[se]),_:1})])]))])])]),Object(a["createElementVNode"])("div",re,[Object(a["createElementVNode"])("div",de,[Object(a["createElementVNode"])("div",me,[Object(a["createElementVNode"])("table",be,[pe,Object(a["createElementVNode"])("tbody",he,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(Pt.billData,e=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("tr",{key:e.id},["Room Clearance"==e.bill_item?(Object(a["openBlock"])(),Object(a["createElementBlock"])("td",ue,"Payment ("+Object(a["toDisplayString"])(e.trx_type)+")",1)):(Object(a["openBlock"])(),Object(a["createElementBlock"])("td",ge,Object(a["toDisplayString"])(e.bill_item),1)),Object(a["createElementVNode"])("td",null,Object(a["toDisplayString"])(e.date),1),"debit"==e.bill_category?(Object(a["openBlock"])(),Object(a["createElementBlock"])("td",ye,Object(a["toDisplayString"])(e.item_quantity),1)):(Object(a["openBlock"])(),Object(a["createElementBlock"])("td",Oe,"N.A")),"debit"==e.bill_category&&"room"==e.type_bill?(Object(a["openBlock"])(),Object(a["createElementBlock"])("td",je,Object(a["toDisplayString"])((e.cost/e.item_quantity).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),1)):"debit"==e.bill_category&&"laundry"==e.type_bill?(Object(a["openBlock"])(),Object(a["createElementBlock"])("td",fe,Object(a["toDisplayString"])(e.cost.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),1)):"debit"==e.bill_category&&"room_service"==e.type_bill?(Object(a["openBlock"])(),Object(a["createElementBlock"])("td",De,Object(a["toDisplayString"])(e.cost.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),1)):(Object(a["openBlock"])(),Object(a["createElementBlock"])("td",ve,Object(a["toDisplayString"])(e.cost.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),1)),"debit"==e.bill_category?(Object(a["openBlock"])(),Object(a["createElementBlock"])("td",_e,Object(a["toDisplayString"])(e.discount.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))+" (0%)",1)):(Object(a["openBlock"])(),Object(a["createElementBlock"])("td",Ee,Object(a["toDisplayString"])(e.special_discount.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),1)),"debit"==e.bill_category?(Object(a["openBlock"])(),Object(a["createElementBlock"])("td",Ve,Object(a["toDisplayString"])((e.cost/e.item_quantity*e.item_quantity).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),1)):(Object(a["openBlock"])(),Object(a["createElementBlock"])("td",Ne,"(-)"+Object(a["toDisplayString"])(e.cost.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),1))]))),128))])]),xe,Object(a["createElementVNode"])("div",ke,"Sub Total: "+Object(a["toDisplayString"])((parseInt(Pt.roomCost)+Pt.laundryCalculated+Pt.roomServiceCalculated).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))+" BDT",1),Object(a["createElementVNode"])("div",Se,"VAT("+Object(a["toDisplayString"])(Pt.companyInfo.tax)+"%): "+Object(a["toDisplayString"])((Pt.roomCost*(Pt.companyInfo.tax/100)).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))+" BDT",1),Object(a["createElementVNode"])("div",Ce,"Service Charge("+Object(a["toDisplayString"])(Pt.companyInfo.service_charge)+"%): "+Object(a["toDisplayString"])((Pt.roomCost*(Pt.companyInfo.service_charge/100)).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))+" BDT",1),0!=Pt.laundryVatAmount||0!=Pt.laundryServiceCharge?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Be,"Laundry VAT & SD("+Object(a["toDisplayString"])(Pt.laundryVatAmount)+"% | "+Object(a["toDisplayString"])(Pt.laundryServiceCharge)+"%): "+Object(a["toDisplayString"])(Pt.laundryCalculatedDuty.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))+" BDT",1)):Object(a["createCommentVNode"])("",!0),0!=Pt.roomServiceVat||0!=Pt.roomServiceServiceCharge?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Ie,"RoomService VAT & SD("+Object(a["toDisplayString"])(Pt.roomServiceVat)+"%|"+Object(a["toDisplayString"])(Pt.roomServiceServiceCharge)+"%): "+Object(a["toDisplayString"])(Pt.roomServiceCalculatedDuty.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))+" BDT",1)):Object(a["createCommentVNode"])("",!0),Object(a["createElementVNode"])("div",we,"Discount(s):(-) "+Object(a["toDisplayString"])(Pt.resInfo.previous_discounts.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))+" BDT",1),Te,Object(a["createElementVNode"])("p",ze,"Grand Total: "+Object(a["toDisplayString"])((Pt.laundryCalculated+Pt.roomServiceCalculated+Pt.laundryCalculatedDuty+Pt.roomServiceCalculatedDuty+Pt.roomCost+Pt.roomCost*(Pt.companyInfo.tax/100)+Pt.roomCost*(Pt.companyInfo.service_charge/100)-Pt.resInfo.previous_discounts).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))+" BDT",1),Ae,Object(a["createElementVNode"])("p",Re,"Advance & Payment(s): (-) "+Object(a["toDisplayString"])((Pt.advanceCalculated+Pt.roomClearanceCalculated).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))+" BDT",1),0!=Pt.resInfo.total_due?(Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],{key:2},[Fe,Object(a["createElementVNode"])("p",Pe," Total Due(s): "+Object(a["toDisplayString"])((Pt.laundryCalculated+Pt.roomServiceCalculated+Pt.laundryCalculatedDuty+Pt.roomServiceCalculatedDuty+Pt.roomCost+Pt.roomCost*(Pt.companyInfo.tax/100)+Pt.roomCost*(Pt.companyInfo.service_charge/100)-Pt.resInfo.previous_discounts-Pt.advanceCalculated-Pt.roomClearanceCalculated).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))+" BDT",1)],64)):(Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],{key:3},[Me,$e],64)),qe,Object(a["createElementVNode"])("button",{class:"button",style:{"background-color":"#099DD9",color:"white"},onClick:t[1]||(t[1]=Object(a["withModifiers"])(e=>{Pt.showPdf=!0,Mt.dateCal(),Mt.printPDF()},["prevent"]))},"Print")])]),Object(a["createElementVNode"])("div",Ue,[Object(a["createElementVNode"])("div",Le,[Object(a["createElementVNode"])("div",He,[Object(a["createElementVNode"])("div",Ge,[Object(a["createElementVNode"])("p",null,[Object(a["createTextVNode"])("Due: "+Object(a["toDisplayString"])(Pt.resInfo.total_due)+" ",1),Je,0!=Pt.amountDiscount?(Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],{key:0},[Object(a["createTextVNode"])(" | P.D: "+Object(a["toDisplayString"])(Pt.resInfo.total_due-Pt.amountDiscount)+" ",1),Qe],64)):Object(a["createCommentVNode"])("",!0)])]),Ze,Ke])]),Object(a["createElementVNode"])("div",We,[Xe,Object(a["createElementVNode"])("div",Ye,[Object(a["createElementVNode"])("div",et,[tt,Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{class:"input",type:"text",placeholder:"Amount","onUpdate:modelValue":t[2]||(t[2]=e=>Pt.amountDiscount=e),style:{width:"210px",float:"left"}},null,512),[[a["vModelText"],Pt.amountDiscount]])]),Object(a["createElementVNode"])("div",ot,[at,Object(a["withDirectives"])(Object(a["createElementVNode"])("textarea",{class:"input",type:"textarea",placeholder:"remarks","onUpdate:modelValue":t[3]||(t[3]=e=>Pt.specialDiscountReason=e),style:{}},null,512),[[a["vModelText"],Pt.specialDiscountReason]])])]),Object(a["createElementVNode"])("div",lt,[Object(a["createElementVNode"])("ul",null,[Object(a["createElementVNode"])("li",{class:Object(a["normalizeClass"])({"is-active":"cash"==Pt.isA})},[Object(a["createElementVNode"])("a",{onClick:t[4]||(t[4]=t=>(Pt.isA="cash",e.trxType="cash"))},"Cash")],2),Object(a["createElementVNode"])("li",{class:Object(a["normalizeClass"])({"is-active":"card"==Pt.isA})},[Object(a["createElementVNode"])("a",{onClick:t[5]||(t[5]=t=>(Pt.isA="card",e.trxType="card"))},"Card")],2),Object(a["createElementVNode"])("li",{class:Object(a["normalizeClass"])({"is-active":"bkash"==Pt.isA})},[Object(a["createElementVNode"])("a",{onClick:t[6]||(t[6]=t=>(Pt.isA="bkash",e.trxType="bkash"))},"bkash")],2)])]),Object(a["createElementVNode"])("div",null,[Object(a["createElementVNode"])("div",ct,[Object(a["createElementVNode"])("div",{class:Object(a["normalizeClass"])(["content",{"is-active":"cash"==Pt.isA}]),style:{height:"25vh"}},[Object(a["createElementVNode"])("div",it,[nt,Object(a["createElementVNode"])("div",st,[Object(a["createElementVNode"])("div",rt,[Object(a["createElementVNode"])("p",dt,[Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{class:"input",type:"text",placeholder:"Credit amount","onUpdate:modelValue":t[7]||(t[7]=e=>Pt.amount_credited=e),style:{width:"200px"}},null,512),[[a["vModelText"],Pt.amount_credited]])])])])])],2)]),Object(a["createElementVNode"])("div",mt,[Object(a["createElementVNode"])("div",{class:Object(a["normalizeClass"])(["content",{"is-active":"card"==Pt.isA}]),style:{height:"25vh"}},[Object(a["createElementVNode"])("div",bt,[pt,Object(a["createElementVNode"])("div",ht,[Object(a["createElementVNode"])("div",ut,[Object(a["createElementVNode"])("p",gt,[Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{class:"input",type:"text",placeholder:"Credit amount","onUpdate:modelValue":t[8]||(t[8]=e=>Pt.amount_credited=e),style:{width:"200px"}},null,512),[[a["vModelText"],Pt.amount_credited]])])])])]),Object(a["createElementVNode"])("div",yt,[Ot,Object(a["createElementVNode"])("div",jt,[Object(a["createElementVNode"])("div",ft,[Object(a["createElementVNode"])("p",Dt,[Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{class:"input",type:"text",placeholder:"Discount amount","onUpdate:modelValue":t[9]||(t[9]=e=>Pt.trans_id=e),style:{width:"200px"}},null,512),[[a["vModelText"],Pt.trans_id]])])])])]),Object(a["createElementVNode"])("div",vt,[_t,Object(a["createElementVNode"])("div",Et,[Object(a["createElementVNode"])("div",Vt,[Object(a["createElementVNode"])("p",Nt,[Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{class:"input",type:"date",placeholder:"Discount amount","onUpdate:modelValue":t[10]||(t[10]=e=>Pt.doe_card=e),style:{width:"200px"}},null,512),[[a["vModelText"],Pt.doe_card]])])])])])],2)]),Object(a["createElementVNode"])("div",xt,[Object(a["createElementVNode"])("div",{class:Object(a["normalizeClass"])(["content",{"is-active":"bkash"==Pt.isA}]),style:{height:"25vh"}},[Object(a["createElementVNode"])("div",kt,[St,Object(a["createElementVNode"])("div",Ct,[Object(a["createElementVNode"])("div",Bt,[Object(a["createElementVNode"])("p",It,[Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{class:"input",type:"text",placeholder:"Credit amount","onUpdate:modelValue":t[11]||(t[11]=e=>Pt.amount_credited=e),style:{width:"200px"}},null,512),[[a["vModelText"],Pt.amount_credited]])])])])]),Object(a["createElementVNode"])("div",wt,[Tt,Object(a["createElementVNode"])("div",zt,[Object(a["createElementVNode"])("div",At,[Object(a["createElementVNode"])("p",Rt,[Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{class:"input",type:"text",placeholder:"Discount amount","onUpdate:modelValue":t[12]||(t[12]=e=>Pt.trans_id=e),style:{width:"200px"}},null,512),[[a["vModelText"],Pt.trans_id]])])])])])],2)]),Object(a["createElementVNode"])("button",{class:"button",onClick:t[13]||(t[13]=Object(a["withModifiers"])(e=>Mt.submitPayment(),["prevent"])),style:{"background-color":"#099DD9",color:"white"}},"Settle Bill")])])])])])}var Pt=o("4198"),Mt=o("758b"),$t=o("4b44"),qt=o("eb92"),Ut=o.n(qt),Lt={props:{fromId:{type:String,required:!0}},data(){return{isA:"cash",resInfo:"",email:"",firstName:"",lastName:"",address:"",phone:null,custId:null,checkInDate:null,checkInTime:null,checkOutDate:null,checkOutTime:null,custInfo:"",earlyCheckIn:null,earlyCheckOut:null,extraBreakfast:null,roomType:"",genderSelection:"",passport:"",nidDl:"",country:"",nationality:"",occupation:"",doi:"",dof:"",visa:"",vdoi:"",vdof:"",genderTypes:["Mr.","Ms.","Mrs."],showInfo:!1,cardData:"",billData:[],billModal:!1,showPayment:!1,guestNo:"",childInfo:"",AdultsInfo:"",specialIns:"",tempSplit:[],roomNos:[],roomNosFlat:[],secondaryRooms:"",amountDiscount:0,specialDiscountReason:"",due_amount:"",amount_credited:"",creditCalculated:"",roomCost:0,companyInfo:"",statusFilter:"Checked Out",showPdf:!1,calcTime:"",calcDate:"",advanceCalculated:0,roomClearanceCalculated:0,doe_card:"",trans_id:"",addBillCalculated:0,laundryCalculated:0,laundryCalculatedDuty:0,roomServiceCalculatedDuty:0,roomServiceCalculated:0,laundryVatAmount:0,laundryServiceCharge:0,roomServiceVat:0,roomServiceServiceCharge:0,logo:null,company:""}},created(){this.getResInfo(),this.getLogo(),this.getCompany()},methods:{async getLogo(){await Mt["a"].get("auth/hotel_logo/1/").then(e=>{this.logo=e.data.pic}).catch(e=>console.log(e))},async getCompany(){await Mt["a"].get("/auth/company/1/").then(e=>{this.company=e.data,console.log(this.company)}).catch(e=>console.log(e))},async getResInfo(){console.log(this.resInfo),await Pt["a"].get(`reservation/${this.$route.params.id}/`).then(e=>{this.resInfo=e.data,console.log(this.resInfo)}).catch(e=>{console.log(e)}),this.checkInDate=this.resInfo.check_in_date,this.checkInTime=this.resInfo.check_in_time,this.checkOutDate=this.resInfo.check_out_date,this.checkOutTime=this.resInfo.check_out_time,this.guestNo=this.resInfo.no_guest,this.AdultsInfo=this.resInfo.adults,this.childInfo=this.resInfo.childs,this.extraBreakfast=this.resInfo.extra_breakfast,this.specialIns=this.resInfo.special_ins,console.log("info",this.resInfo),this.roomNos.push(this.resInfo.room),null!=this.resInfo.secondary_room&&""!=this.resInfo.secondary_room&&(this.tempSplit=this.resInfo.secondary_room.split(","),console.log("yo man",this.tempSplit)),this.roomNos.push(this.tempSplit),this.roomNosFlat=this.roomNos.flat(),await Pt["a"].get("reservation/?primary_room_no="+this.resInfo.room).then(e=>{this.secondaryRooms=e.data,console.log("rooms sendondary",this.secondaryRooms)}).catch(e=>{console.log(e)}),await Mt["a"].get("/auth/currentuser/").then(e=>{console.log(e.data.role),this.userInfo=e.data.company}).catch(e=>console.log(e)),console.log(this.userInfo),await Mt["a"].get(`/auth/company/${this.userInfo}/`).then(e=>{this.companyInfo=e.data}).catch(e=>console.log(e)),console.log(this.companyInfo),await Pt["a"].get(`customer/${this.resInfo.cust_id}/`).then(e=>{this.custInfo=e.data,console.log(this.custInfo)}).catch(e=>{console.log(e)}),this.firstName=this.custInfo.first_name,this.lastName=this.custInfo.last_name,this.phone=this.custInfo.phone,this.email=this.custInfo.email,this.address=this.custInfo.address,this.genderSelection=this.custInfo.gender,this.passport=this.custInfo.passport,this.nidDl=this.custInfo.nid,this.dof=this.custInfo.passport_exp,this.visa=this.custInfo.visa_type,this.vdoi=this.custInfo.visa_issue,this.vdof=this.custInfo.visa_expiry,this.nationality=this.custInfo.nationality,this.country=this.custInfo.country,this.occupation=this.custInfo.occupation,await Pt["a"].get("card/?rev_id="+this.$route.params.id).then(e=>{this.cardData=e.data[0],console.log(this.cardData)}),console.log("before bill"),await this.getBills(),await Pt["a"].get(`room/${this.resInfo.room}/`).then(e=>{this.roomType=e.data,console.log("room",this.roomType)})},async getBills(){null==this.resInfo.previous_discounts&&(this.resInfo.previous_discounts=0),this.roomCost=0,this.laundryCalculated=0,this.roomServiceCalculated=0,this.laundryCalculatedDuty=0,this.roomServiceCalculatedDuty=0,this.dayCount=0,this.advanceCalculated=0,this.roomClearanceCalculated=0,await Pt["a"].get("card/?rev_id="+this.$route.params.id).then(e=>{this.cardData=e.data[0],console.log(this.cardData)}),await Pt["a"].get("bills/?card_no="+this.cardData.card_no).then(e=>{this.billData=e.data,console.log(this.billData)}),console.log("this bill",this.billData);for(let e=0;e<this.billData.length;e++)console.log(this.billData[e]),"debit"==this.billData[e].bill_category&&"room_rent"==this.billData[e].type_bill&&(this.roomCost+=parseInt(this.billData[e].cost/this.billData[e].item_quantity*this.billData[e].item_quantity));console.table(this.billData);for(let e=0;e<this.billData.length;e++)"credit"==this.billData[e].bill_category&&"Room Clearance"!=this.billData[e].bill_item&&(this.advanceCalculated+=parseInt(this.billData[e].cost)),"credit"==this.billData[e].bill_category&&"Room Clearance"==this.billData[e].bill_item&&(this.roomClearanceCalculated+=parseInt(this.billData[e].cost));for(let e=0;e<this.billData.length;e++)"debit"==this.billData[e].bill_category&&"laundry"==this.billData[e].type_bill&&(console.log("yo yo",this.billData[e]),this.laundryCalculated+=parseInt(this.billData[e].cost),this.laundryCalculatedDuty=parseInt(this.billData[e].cost)*parseInt(this.billData[e].vat_amount)/100+parseInt(this.billData[e].cost)*parseInt(this.billData[e].sc_amount)/100,this.laundryVatAmount=parseInt(this.billData[e].vat_amount),this.laundryServiceCharge=parseInt(this.billData[e].sc_amount)),"debit"==this.billData[e].bill_category&&"room_service"==this.billData[e].type_bill&&(this.roomServiceCalculated+=parseInt(this.billData[e].cost),this.roomServiceCalculatedDuty=parseInt(this.billData[e].cost)*parseInt(this.billData[e].vat_amount)/100+parseInt(this.billData[e].cost)*parseInt(this.billData[e].sc_amount)/100,this.roomServiceVat=parseInt(this.billData[e].vat_amount),this.roomServiceServiceCharge=parseInt(this.billData[e].sc_amount));console.log("lo lo",this.roomCost),console.log("prev discounts",this.resInfo),console.log("first"),this.billModal=!0},printPDF(){this.showPdf=!0;var e=document.getElementById("pdfportion"),t={margin:.2,filename:"1.pdf",image:{type:"png"},html2canvas:{scale:2},pagebreak:{mode:"avoid-all"},jsPDF:{orientation:"p",unit:"in",format:"a4",putOnlyUsedFonts:!0,floatPrecision:16}};Ut()().set(t).from(e).save(),this.showPdf=!1},async submitPayment(){console.log(this.resInfo.total_due),console.log(this.amount_credited),this.due_amount=parseInt(this.resInfo.total_due)-this.amountDiscount-this.amount_credited,console.log(this.due_amount),this.creditCalculated=parseInt(this.resInfo.total_credit)+parseInt(this.amount_credited),console.log(this.creditCalculated),await Pt["a"].put(`reservation/${this.resInfo.id}/`,{cust_id:this.resInfo.cust_id,status:this.resInfo.status,total_due:this.due_amount,total_credit:this.creditCalculated,previous_discounts:parseInt(this.resInfo.previous_discounts)+parseInt(this.amountDiscount)}).then(Object($t["toast"])({message:"Payment has been updated",type:"is-info",dismissible:!0,pauseOnHover:!0,duration:2e3,position:"bottom-right"})).catch(e=>console.log(e)),"cash"==this.trxType&&await Pt["a"].post("bills/",{cost:this.amount_credited,trx_no:this.trans_id,special_discount:this.amountDiscount,special_discount_reason:this.specialDiscountReason,card_validity:this.doe_card,trx_type:"cash",type_bill:"room",is_paid:!1,bill_item:"Room Clearance",card_no:this.cardData.card_no,bill_category:"credit"}).catch(e=>console.log(e)),"card"==this.trxType&&await Pt["a"].post("bills/",{cost:this.amount_credited,trx_no:this.trans_id,special_discount:this.amountDiscount,special_discount_reason:this.specialDiscountReason,card_validity:this.doe_card,trx_type:"card",type_bill:"room",is_paid:!1,bill_item:"Room Clearance",card_no:this.cardData.card_no,bill_category:"credit"}).catch(e=>console.log(e)),"bkash"==this.trxType&&await Pt["a"].post("bills/",{cost:this.amount_credited,trx_no:this.trans_id,special_discount:this.amountDiscount,special_discount_reason:this.specialDiscountReason,card_validity:this.doe_card,trx_type:"bkash",type_bill:"room",is_paid:!1,bill_item:"Room Clearance",card_no:this.cardData.card_no,bill_category:"credit"}).catch(e=>console.log(e)),this.jeAddForMoreCredit(),this.getResInfo()},async jeAddForMoreCredit(){let e=[],t=[],o=[];await Mt["a"].get("auth/currentuser/").then(e=>{o=e.data}).catch(e=>{console.log(e)}),await Pt["a"].get("Transaction_table/").then(t=>{e=t.data}).catch(e=>{console.log(e)}),await Pt["a"].get("coa/").then(e=>{t=e.data}).catch(e=>{console.log(e)});let a=1;0==!e.length&&(a=parseInt(e[e.length-1].journal_id)+1);let l=0;for(let i=0;i<t.length;i++)"room_clearance"===t[i].cost_center&&"Credit"===t[i].type&&(console.log(t[i].id),l=t[i].id);const c={description:"Room Clearance",date:(new Date).toISOString().substr(0,10),account_id:l,credited_by:o.username,reference:this.cardData.card_no,credit:this.amount_credited,debit:0,memo:"R"+this.resInfo.room,journal_id:a,auto_journal:!0};await Pt["a"].post("Transaction_table/",c).catch(e=>{console.log(e)})},async submitCheckOut(){if(console.log("update",this.roomType),"booked"!=this.resInfo.status){await Pt["a"].put(`reservation/${this.$route.params.id}/`,{status:this.statusFilter,cust_id:this.resInfo.cust_id,bill_cleared:!0}).then(Object($t["toast"])({message:"Room(s) are checked out",type:"is-info",dismissible:!0,pauseOnHover:!0,duration:2e3,position:"bottom-right"})).catch(e=>{console.log(e)});for(let e=0;e<this.secondaryRooms.length;e++)await Pt["a"].put(`reservation/${this.secondaryRooms[e].id}/`,{status:this.statusFilter,cust_id:this.resInfo.cust_id}).catch(e=>{console.log(e)});console.log("why i am not defined",this.roomNosFlat),console.log(this.resInfo),null!=this.resInfo.secondary_room&&""!=this.resInfo.secondary_room||this.roomNosFlat.push(this.resInfo.room),console.log("why i am not defined",this.roomNosFlat);for(let e=0;e<this.roomNosFlat.length;e++)await Pt["a"].put(`room/${this.roomNosFlat[e]}/`,{status_fd:"available",room_no:this.roomNosFlat[e]}).catch(e=>{console.log(e)});await Pt["a"].get("card/?rev_id="+this.$route.params.id).then(e=>{this.cardData=e.data[0],console.log(this.cardData)}).catch(e=>console.log(e)),await Pt["a"].put("card/"+this.cardData.card_no,{card_no:this.cardData.card_no,checked_in:"false"}).catch(e=>console.log(e)),this.$router.push({name:"Reservation"})}},generatePdf(){},dateCal(){this.calcDate=(new Date).toLocaleString("en-US",{timeZone:"Asia/Dhaka"}).substr(0,9),this.calcTime=(new Date).toLocaleString("en-US",{timeZone:"Asia/Dhaka"}).substr(10,11)}}},Ht=(o("92c0"),o("6b0d")),Gt=o.n(Ht);const Jt=Gt()(Lt,[["render",Ft]]);t["default"]=Jt},e01b:function(e,t,o){var a=o("24fb");t=a(!1),t.push([e.i,".tab-contents .content{display:none}.tab-contents .content.is-active{display:block}",""]),e.exports=t},ec0c:function(e,t,o){var a=o("e01b");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var l=o("499e").default;l("774480d6",a,!0,{sourceMap:!1,shadowMode:!1})}}]);
//# sourceMappingURL=chunk-a24cbdb4.6e8dcfcb.js.map